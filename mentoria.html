<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ARSENAL ELITE | MASTER OAB</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { 
            --primary: #020617; --gold: #fbbf24; --card: #1e293b; 
            --questoes: #fbbf24; --danger: #ef4444;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--primary); 
            color: white; 
            margin: 0; 
            padding: 0; 
            font-size: 16px; /* Letra base maior para mobile */
        }
        
        header { 
            background: var(--card); padding: 20px; border-bottom: 3px solid var(--gold); 
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 1000;
        }

        .dashboard { padding: 20px; max-width: 1000px; margin: 0 auto; }
        
        /* BOTÃO MASTER INJETAR */
        .btn-master { 
            background: #22c55e; border: none; padding: 20px; border-radius: 12px; 
            cursor: pointer; font-weight: 900; width: 100%; color: white; 
            font-size: 1rem; text-transform: uppercase; margin-bottom: 25px;
            display: flex; align-items: center; justify-content: center; gap: 12px;
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.4);
        }

        /* GRID DE QUESTÕES - MELHORADO PARA MOBILE */
        .feed-grid { 
            display: flex; flex-direction: column; gap: 20px; 
        }

        .post-it { 
            background: #ffffff; padding: 20px; border-radius: 15px; 
            color: #020617; font-weight: 600; position: relative; 
            box-shadow: 8px 8px 0px var(--gold); 
            border: 1px solid #ddd;
        }

        .res-label { 
            display: block; color: #4338ca; font-size: 12px; 
            font-weight: 900; margin-top: 12px; text-transform: uppercase;
        }

        .kw-tag { 
            background: #020617; color: var(--gold); padding: 5px 10px; 
            border-radius: 6px; font-size: 12px; margin-top: 10px; display: inline-block; 
        }

        .post-it p { font-size: 1.05rem; line-height: 1.5; margin: 8px 0; color: #1e293b; }

        /* HUB MOBILE (FOGUETE) */
        #mobile-hub { position: fixed; bottom: 30px; right: 20px; z-index: 9999; display: flex; flex-direction: column-reverse; gap: 15px; }
        .fab-main { width: 65px; height: 65px; border-radius: 50%; background: var(--gold); border: none; font-size: 1.8rem; box-shadow: 0 5px 20px rgba(0,0,0,0.6); }
        .fab-sub { 
            width: 55px; height: 55px; border-radius: 50%; border: none; color: white; 
            display: none; align-items: center; justify-content: center; font-size: 1.2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4); 
        }

        #mobile-hub.active .fab-sub { display: flex; animation: slideUp 0.3s ease forwards; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .btn-voltar-top { background: white; color: black; padding: 10px 20px; border-radius: 8px; font-weight: 900; text-decoration: none; font-size: 14px; }
    </style>
</head>
<body>

<header>
    <h2 style="margin:0; font-size: 1.3rem;">ARSENAL <span style="color:var(--gold)">ELITE</span></h2>
    <a href="index.html" class="btn-voltar-top">VOLTAR</a>
</header>

<div class="dashboard">
    <button class="btn-master" onclick="window.injetarArsenal50()">
        <i class="fas fa-bolt"></i> INJETAR 50 QUESTÕES (80% PROVA)
    </button>

    <div class="feed-grid" id="feed-q">
        <p style="text-align:center; opacity:0.5;">Aguardando injeção do arsenal...</p>
    </div>
</div>

<div id="mobile-hub">
    <button class="fab-main" onclick="window.toggleHub()"><i class="fas fa-rocket" id="hub-icon"></i></button>
    <button class="fab-sub" style="background:var(--danger);" onclick="window.injetarArsenal50()"><i class="fas fa-syringe"></i></button>
    <button class="fab-sub" style="background:#3b82f6;" onclick="window.scrollTo({top:0, behavior:'smooth'})"><i class="fas fa-chevron-up"></i></button>
    <button class="fab-sub" style="background:white; color:black;" onclick="location.href='index.html'"><i class="fas fa-home"></i></button>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getDatabase, ref, push, onValue, serverTimestamp, remove } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

    const config = { 
        apiKey: "AIzaSyAmigODFK8R9c0-fWtagdxLWu9xkODfKYQ", 
        authDomain: "masteroab-db5e1.firebaseapp.com", 
        projectId: "masteroab-db5e1", 
        databaseURL: "https://masteroab-db5e1-default-rtdb.firebaseio.com" 
    };
    
    const app = initializeApp(config);
    const db = getDatabase(app);

    window.toggleHub = () => {
        const hub = document.getElementById('mobile-hub');
        hub.classList.toggle('active');
        document.getElementById('hub-icon').className = hub.classList.contains('active') ? 'fas fa-times' : 'fas fa-rocket';
    };

    window.apagarRegistro = (id) => { if(confirm("Remover esta questão do seu Arsenal?")) remove(ref(db, 'v13_q/' + id)); };

    window.injetarArsenal50 = () => {
        if(!confirm("Deseja injetar as 50 questões que dominam a prova da OAB?")) return;
        
        const q50 = [
            { t: "1. Embargos de Terceiro: Prazo?", kw: "Art. 675 CPC", c: "Na execução: 5 dias após arrematação/adjudicação, mas sempre antes da assinatura da respectiva carta." },
            { t: "2. Revista x Agravo Instrumento?", kw: "Súmula 218 TST", c: "É incabível recurso de revista interposto contra acórdão regional proferido em agravo de instrumento." },
            { t: "3. Justiça Gratuita para PJ?", kw: "Súmula 463 TST", c: "Para pessoa jurídica, não basta declaração. É necessária a prova cabal da insuficiência econômica." },
            { t: "4. Agravo de Petição: Requisito?", kw: "Art. 897, § 1º CLT", c: "O agravante deve delimitar justificadamente as matérias e os valores impugnados sob pena de rejeição." },
            { t: "5. Citação por Edital no Sumaríssimo?", kw: "Art. 852-B, II, CLT", c: "No rito sumaríssimo não se admite citação por edital. O autor deve indicar o endereço correto, sob pena de arquivamento." },
            { t: "6. Estabilidade Gestante e Experiência?", kw: "Súmula 244, III, TST", c: "A empregada gestante tem direito à estabilidade provisória, mesmo na hipótese de contrato por tempo determinado." },
            { t: "7. Gorjetas e Horas Extras?", kw: "Súmula 354 TST", c: "As gorjetas integram a remuneração, mas não servem de base para horas extras, adicional noturno e aviso prévio." },
            { t: "8. Equiparação Salarial: Local?", kw: "Art. 461 CLT", c: "A equiparação só é possível entre empregados que trabalham no mesmo estabelecimento empresarial." },
            { t: "9. Multa do 467 e Recuperação?", kw: "Art. 467 CLT", c: "Empresas em Recuperação Judicial pagam a multa do 467 se não pagarem as verbas rescisórias na 1ª audiência." },
            { t: "10. Sócio Retirante: Limite?", kw: "Art. 10-A CLT", c: "O sócio retirante responde subsidiariamente até 2 anos após a averbação da alteração contratual." }
            // Adicione as outras 40 conforme sua necessidade seguindo este padrão
        ];

        q50.forEach(q => {
            push(ref(db, 'v13_q'), { t: q.t, c: q.c, kw: q.kw, ts: serverTimestamp() });
        });
        alert("ARSENAL INJETADO COM SUCESSO!");
    };

    onValue(ref(db, 'v13_q'), (snap) => {
        const feed = document.getElementById('feed-q');
        feed.innerHTML = "";
        const data = snap.val() || {};
        
        Object.keys(data).reverse().forEach(id => {
            const item = data[id];
            feed.innerHTML += `
                <div class="post-it">
                    <button onclick="apagarRegistro('${id}')" style="float:right; border:none; background:none; font-size:1.5rem; color:#ef4444;">&times;</button>
                    <div style="font-size: 1.2rem; color: #4338ca; margin-bottom: 10px;">${item.t}</div>
                    <span class="res-label">RESPOSTA ELITE / FGV:</span>
                    <p>${item.c}</p>
                    <div class="kw-tag"><i class="fas fa-gavel"></i> ${item.kw}</div>
                </div>`;
        });
    });
</script>
</body>
</html>
