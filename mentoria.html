<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentoria OAB - Voo Blindado</title>
    <style>
        :root {
            --fgv-yellow: #fffdf0;
            --fgv-blue: #003366;
            --border-color: #ccc;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }

        /* Container Principal */
        .container {
            max-width: 900px;
            margin: auto;
            background: white;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
        }

        /* Cabe√ßalho FGV Style */
        .header-fgv {
            border: 2px solid var(--fgv-blue);
            padding: 10px;
            text-align: center;
            margin-bottom: 20px;
            background-color: var(--fgv-yellow);
        }

        /* √Årea da Pe√ßa (Folha de Respostas) */
        .folha-respostas {
            background-color: var(--fgv-yellow);
            border: 1px solid #999;
            min-height: 400px;
            padding: 40px;
            background-image: linear-gradient(#e1e1e1 1px, transparent 1px);
            background-size: 100% 2em;
            line-height: 2em;
            position: relative;
        }

        /* Sidebar de Ferramentas (Mobile Friendly) */
        .toolbar {
            display: flex;
            justify-content: space-around;
            background: var(--fgv-blue);
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .btn-tool {
            color: white;
            cursor: pointer;
            font-size: 20px;
            background: none;
            border: none;
        }

        /* Intelig√™ncias e Post-its */
        .post-it-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .post-it {
            background: #fffa82;
            padding: 15px;
            border: 1px solid #e1db55;
            box-shadow: 5px 5px 7px rgba(0,0,0,0.1);
            font-size: 0.9em;
        }

        /* Hist√≥rico (O Exame Realizado) */
        #historico-mentoria {
            display: none;
            margin-top: 20px;
            border-top: 3px double var(--fgv-blue);
            padding-top: 20px;
        }

        .item-exame {
            background: #eee;
            margin-bottom: 10px;
            padding: 10px;
            border-left: 5px solid var(--fgv-blue);
        }

        @media (max-width: 600px) {
            .folha-respostas { padding: 15px; }
            .post-it-container { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header-fgv">
        <h2>EXAME DE ORDEM UNIFICADO - CADERNO DE RESPOSTAS</h2>
        <small>Mente Blindada - Plano de Voo</small>
    </div>

    <div class="toolbar">
        <button class="btn-tool" onclick="mostrarEstruturas()" title="Estruturas (Pergaminho)">üìú</button>
        <button class="btn-tool" onclick="salvarPeca()" title="Salvar PDF (Disquete)">üíæ</button>
        <button class="btn-tool" onclick="toggleHistorico()" title="Ver Exames Realizados">üìÇ</button>
    </div>

    <div class="folha-respostas" contenteditable="true" id="area-edicao">
        AO DOUTO JU√çZO DA ... VARA DO TRABALHO DE ...
        <br><br>
        (Skeleton Blindado: RT at√© Cumprimento)
    </div>

    <div class="post-it-container">
        <div class="post-it" id="postit-teses">
            <strong>üìå Teses & Preliminares:</strong>
            <ul id="lista-teses"><li>Aguardando an√°lise de PDF...</li></ul>
        </div>
        <div class="post-it" id="postit-inteligencia">
            <strong>üí° Intelig√™ncia N√£o Confunda:</strong>
            <p id="dica-inteligencia">Diferencie Recurso Ordin√°rio de Agravo de Peti√ß√£o.</p>
        </div>
    </div>

    <div id="historico-mentoria">
        <h3>üìÇ Hist√≥rico de Exames Realizados (PDFs Salvos)</h3>
        <div id="lista-historico">
            </div>
    </div>
</div>

<script>
    // Constantes de Qualifica√ß√£o e Pulos (Skeleton T√©cnico)
    const CONSTANTES_PECA = {
        PULO_LINHAS: "\n\n\n\n\n",
        FECHAMENTO: "Nestes Termos,\nPede Deferimento.\nLocal e Data...\nAdvogado...\nOAB..."
    };

    // Fun√ß√£o do Disquete: Salva apenas quando finalizar
    function salvarPeca() {
        const conteudo = document.getElementById('area-edicao').innerText;
        const data = new Date().toLocaleString();
        
        // Simula√ß√£o de salvamento no hist√≥rico do mentoria
        const exame = {
            data: data,
            titulo: "Pe√ßa Pr√°tica - Analisada via PDF",
            conte√∫do: conteudo
        };

        let historico = JSON.parse(localStorage.getItem('historico_oab') || "[]");
        historico.push(exame);
        localStorage.setItem('historico_oab', JSON.stringify(historico));

        alert("Pe√ßa finalizada e salva no Hist√≥rico (PDF Gerado no Mentoria)!");
        atualizarVisualizacaoHistorico();
    }

    // Fun√ß√£o do Pergaminho: Traz as estruturas
    function mostrarEstruturas() {
        const estruturas = "ESTRUTURA BASE:\n1. Endere√ßamento\n2. Qualifica√ß√£o\n3. Fatos\n4. Fundamentos (Teses)\n5. Pedidos\n6. Provas/Valor da Causa";
        alert(estruturas);
    }

    // Ajuste da Visualiza√ß√£o do Exame Realizado
    function toggleHistorico() {
        const histDiv = document.getElementById('historico-mentoria');
        histDiv.style.display = histDiv.style.display === 'none' ? 'block' : 'none';
        atualizarVisualizacaoHistorico();
    }

    function atualizarVisualizacaoHistorico() {
        const lista = document.getElementById('lista-historico');
        const historico = JSON.parse(localStorage.getItem('historico_oab') || "[]");
        
        lista.innerHTML = historico.length === 0 ? "<p>Nenhum exame realizado ainda.</p>" : "";
        
        historico.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'item-exame';
            div.innerHTML = `<strong>${item.data}</strong> - ${item.titulo} <br> <small>Conte√∫do preservado no sistema.</small>`;
            lista.appendChild(div);
        });
    }

    // Inicializa√ß√£o Mobile
    window.onload = () => {
        console.log("Sistema Mentoria OAB carregado no modo Mobile/Desktop.");
    };
</script>

</body>
</html>

